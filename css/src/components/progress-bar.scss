$progress-bar-height-medium: 2px;
$progress-bar-height-large: 4px;

$progress-bar-background: $secondary-background !default;
$progress-bar-color: $primary !default;
$progress-bar-success-color: $success !default;
$progress-bar-warning-color: $warning !default;
$progress-bar-danger-color: $danger !default;
$progress-bar-border-radius: $control-radius !default;
$progress-bar-border-radius-rounded: $border-radius-rounded !default;

$progress-bar-animation-duration: 2s;

.progress-bar-container {
	width: 100%;
	background-color: $progress-bar-background;
	border-radius: $progress-bar-border-radius-rounded;
	overflow: hidden;
	position: relative;

	&.progress-bar-md {
		height: $progress-bar-height-medium;
	}

	&.progress-bar-lg {
		height: $progress-bar-height-large;
	}

	&.progress-bar-square {
		border-radius: 0;
	}

	&.progress-bar-rounded {
		border-radius: $progress-bar-border-radius-rounded;
	}
}

@mixin indeterminate-gradient($color) {
	background: linear-gradient(to right, transparent 0%, $color 50%, transparent 100%);
	width: 100%;
	position: absolute;
	top: 0;
	left: 0;
	animation: indeterminate-animation $progress-bar-animation-duration infinite linear;
}

.progress-bar {
	height: 100%;
	background-color: $progress-bar-color;
	transition: width 0.3s ease;

	&.progress-bar-success {
		background-color: $progress-bar-success-color;

		&.indeterminate {
			@include indeterminate-gradient($progress-bar-success-color);
		}
	}

	&.progress-bar-warning {
		background-color: $progress-bar-warning-color;

		&.indeterminate {
			@include indeterminate-gradient($progress-bar-warning-color);
		}
	}

	&.progress-bar-danger {
		background-color: $progress-bar-danger-color;

		&.indeterminate {
			@include indeterminate-gradient($progress-bar-danger-color);
		}
	}

	&.indeterminate {
		@include indeterminate-gradient($progress-bar-color);
	}
}

@keyframes indeterminate-animation {
	0% {
		left: -50%;
		width: 50%;
	}
	50% {
		left: 25%;
		width: 50%;
	}
	100% {
		left: 100%;
		width: 50%;
	}
}
