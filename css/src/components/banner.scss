$banner-min-height: 50px !default;
$banner-background: $secondary-background !default;
$banner-padding-block: 0.75em !default;

$banner-gap: $spacer-3 !default;

$banner-icon-size: 1.145em !default;
$banner-icon-block-spacing: 0.35em !default;

$banner-content-block-spacing: 0.3em !default;

$banner-color: $text !default;
$banner-font-size: $font-size-8 !default;

$banner-button-font-size: $font-size-9 !default;

$banner-border-color: $control-border !default;
$banner-border-width: $border-width !default;

.banner {
	@extend %layout-gap;

	display: grid;
	position: relative;
	align-items: flex-start;
	min-height: $banner-min-height;
	outline-color: $text;
	background-color: $banner-background;
	color: $banner-color;
	font-size: $banner-font-size;
	line-height: $line-height-normal;
	grid-template: auto / auto 1fr auto;
	grid-template-areas: 'icon banner-content dismiss';
	padding-block: $banner-padding-block;
	word-wrap: break-word;
	word-break: break-word;
	border-block: $banner-border-width solid $banner-border-color;

	@each $name, $color-set in $colors {
		$base: nth($color-set, $color-index-base);
		$dark: nth($color-set, $color-index-dark);
		$background: nth($color-set, $color-index-background);

		&.banner-#{$name} {
			border-color: $dark;
			background-color: $background;

			&.is-loading::before {
				border-color: transparent transparent $dark $dark;
			}

			.banner-icon {
				color: $dark;
			}
		}
	}

	&.is-loading {
		color: transparent;

		&::before {
			@include loader;

			border-color: transparent transparent $banner-color $banner-color;
		}
	}

	.banner-content {
		grid-area: banner-content;

		.banner-title {
			font-weight: $weight-semibold;
			margin-inline-end: $banner-gap;
		}

		a:not(.button) {
			text-decoration: underline;

			&:hover {
				text-decoration-thickness: 0.15em;
			}
		}

		.button {
			font-size: $banner-button-font-size;
		}

		p {
			max-width: $reading-max-width;

			&:first-child {
				margin-block-start: $banner-content-block-spacing;
			}
		}
	}

	.banner-icon,
	&.is-loading::before {
		flex-shrink: 0;
		font-size: $banner-icon-size;
		line-height: 1;
		grid-area: icon;
		margin-inline-end: $banner-gap;
	}

	.banner-dismiss {
		@include dismiss-square;

		grid-area: dismiss;
		margin-inline-start: $banner-gap;
	}

	.banner-icon,
	.banner-dismiss,
	&.is-loading::before {
		margin-block-start: $banner-icon-block-spacing;
	}
}
